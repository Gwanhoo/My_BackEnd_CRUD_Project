<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>채팅방 목록</title>
  <link rel="stylesheet" href="/output.css?v=<%= Date.now() %>">
</head>
<body class="bg-gray-50 text-gray-800">
  <%- include('nav.ejs') %>

  <main class="max-w-3xl mx-auto px-4 py-10">
    <h1 class="text-2xl font-semibold mb-pr-24">채팅방 목록</h1>

    <% if (chatrooms.length === 0) { %>
      <p class="text-gray-500 text-center py-pr-32 text-16m">
        아직 생성된 채팅방이 없습니다.
      </p>
    <% } else { %>
      <ul class="space-y-pr-12">
        <% chatrooms.forEach(room => { %>
          <li class="bg-white rounded-pr-12 border border-gray-200 p-pr-16 
                     hover:bg-gray-50 transition-all shadow-[0_1px_3px_rgba(0,0,0,0.05)]">
            <a href="/chat/room/<%= room._id %>" class="flex justify-between items-center">
              <div>
                <p class="text-16sb text-gray-900">채팅방 ID: <%= room._id %></p>
                <% if (room.date) { %>
                  <p class="text-14m text-gray-400 mt-pr-4">
                    생성일: <%= new Date(room.date).toLocaleString() %>
                  </p>
                <% } %>
              </div>
              <span class="text-blue-600 text-14m hover:underline">입장하기 →</span>
            </a>
          </li>
        <% }) %>
      </ul>
    <% } %>
  </main>
</body>
</html>
